@page
@model EmailModel
@{
    ViewData["Title"] = "Manage Email";
    ViewData["ActivePage"] = ManageNavPages.Email;
}

<h4>@ViewData["Title"]</h4>
<partial name="_StatusMessage" model="Model.StatusMessage" />
<form class="form" id="email-form" method="post">
  <div class="form__validation-summary" asp-validation-summary="All"></div>
  <div class="form__group">
    <label asp-for="Email"></label>
    @if (Model.IsEmailConfirmed)
    {
      <div>
        <input asp-for="Email" disabled />
        <div>
          <span>✓</span>
        </div>
      </div>
    }
     else
    {
      <input asp-for="Email" class="form-control" disabled />
      <button id="email-verification" type="submit" asp-page-handler="SendVerificationEmail">Send verification email</button>
    }
  </div>
  <div class="form__group">
    <label asp-for="Input.NewEmail"></label>
    <input asp-for="Input.NewEmail" />
    <span asp-validation-for="Input.NewEmail"></span>
  </div>
  <button id="change-email-button" type="submit" asp-page-handler="ChangeEmail">Change email</button>
</form>
